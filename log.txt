Refactor codebase with Z [y1s286] line 7.1
Add test case for W [5HAZKs] line 8.1
